<div class="dashboard" [class.light]="!isDarkTheme" [class.dark]="isDarkTheme">
  <div class="header">
    <div class="title">Learning Dashboard</div>
    <div class="controls">
      <div class="select-yearly-range">
        <button
          class="select-yearly-range-btn"
          [ngClass]="{ isActive: selectActive === 'Monthly' }"
          (click)="selectRange('Monthly')"
        >
          Monthly
        </button>
        <button
          class="select-yearly-range-btn"
          [ngClass]="{ isActive: selectActive === 'Quarterly' }"
          (click)="selectRange('Quarterly')"
        >
          Quarterly
        </button>
      </div>
      <div class="datengx-model">
        <img
          class="calendaricon"
          src="assets/icons/datepickericon.png"
          alt="date"
        />
        <p>{{ selectedDate }}</p>
      </div>
      <select
        class="years-selector"
        [(ngModel)]="selectedYear"
        (change)="changeYear()"
      >
        <option *ngFor="let year of years" [value]="year">
          {{ year }}
        </option>
      </select>
      <!-- <select
        class="years-selector"
        [(ngModel)]="selectedDistrict"
        (change)="changeDistrict()"
      >
        <option value="All Districts">All Districts</option>
        <option
          *ngFor="let district of constYearWiseData.courseProgress"
          [value]="district.district"
        >
          {{ district.district }}
        </option>
      </select> -->
      <button class="theme-toggle" (click)="toggleTheme()">
        <span *ngIf="isDarkTheme">ğŸŒ™</span>
        <span *ngIf="!isDarkTheme">â˜€ï¸</span>
      </button>
    </div>
  </div>

  <div class="main-stats">
    <div class="stat-card">
      <div class="stat-label">Total Learner Enrolled</div>
      <div class="stat-number" [style.color]="'#10b981'">
        {{ yearWiseData.summary.totalLearners | number }}
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Male</div>
      <div class="stat-number" [style.color]="'#3b82f6'">
        {{ yearWiseData.summary.male | number }}
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Female</div>
      <div class="stat-number" [style.color]="'#f59e0b'">
        {{ yearWiseData.summary.female | number }}
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Others</div>
      <div class="stat-number" [style.color]="'#ef4444'">
        {{ yearWiseData.summary.others | number }}
      </div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Active Learners</div>
      <div class="stat-number" [style.color]="'#8b5cf6'">
        {{ yearWiseData.summary.activeLearners | number }}
      </div>
    </div>
    <div class="stat-card border-0">
      <div class="stat-label">Engaged Learners</div>
      <div class="stat-number" [style.color]="'#8b5cf6'">
        {{ yearWiseData.summary.engagedLearners | number }}
      </div>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-container">
      <div class="chart-title">ğŸ“ˆ Course Progress Rate</div>
      <div #courseProgress class="chart-wrapper"></div>
    </div>
    <div class="chart-container">
      <div class="chart-title">ğŸ“Š Pass Percentage</div>
      <div #passPercentage class="chart-wrapper"></div>
    </div>
    <div class="chart-container">
      <div class="chart-title">ğŸ“Š Average Assessment Score</div>
      <div #assessmentScore class="chart-wrapper"></div>
    </div>
    <div class="chart-container">
      <div class="chart-title">ğŸ‘¥ Learner Details Breakdown</div>
      <div #learnerDetails class="chart-wrapper"></div>
    </div>
  </div>

  <div class="charts-grid" *ngIf="!isDarkTheme">
    <div class="ranking-section">
      <div class="chart-container">
        <div class="chart-title">ğŸ† District Ranking</div>
        <div class="ranking-container">
          <div class="ranking-item">
            <div #districtRanking class="chart-wrapper"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="charts-grid district-rank-grid" *ngIf="isDarkTheme">
    <div class="chart-container district-ranking-section">
      <div class="chart-title">ğŸ† District Ranking</div>
      <div class="chart-wrapper">
        <div class="district-ranking-list">
          <div
            class="district-ranking-data"
            *ngFor="let district of yearWiseData.districtRanking.districts"
          >
            <p>{{ district.district }}</p>
            <span class="rank-box">
              <h3>{{ district.rank | ordinal }}</h3>
              <p>Rank</p>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
